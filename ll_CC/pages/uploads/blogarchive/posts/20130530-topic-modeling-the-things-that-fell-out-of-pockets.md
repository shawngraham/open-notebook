title: Topic modeling the things that fell out of pockets
link: http://electricarchaeology.ca/2013/05/30/topic-modeling-the-things-that-fell-out-of-pockets/
author: fhg1711
description: 
post_id: 1785
created: 2013/05/30 11:27:06
created_gmt: 2013/05/30 16:27:06
comment_status: open
post_name: topic-modeling-the-things-that-fell-out-of-pockets
status: publish
post_type: post

# Topic modeling the things that fell out of pockets

[caption id="attachment_1805" align="alignleft" width="123"]![UK Districts by Modularity, overlain with hand-drawn civitas boundaries](http://electricarchaeologist.files.wordpress.com/2013/05/modularity-w-civitas-boundaries.png?w=123) Modern Districts by Modularity, overlain with hand-drawn 1st century civitas boundaries[/caption] Topic modeling is very popular at the moment in the digital humanities. Ian, Scott and I described them as tools for extracting topics or injecting semantic meaning into vocabularies: "Topic models represent a family of computer programs that extract topics from texts. A topic to the computer is a list of words that occur in statistically meaningful ways. A text can be an email, a blog post, a book chapter, a journal article, a diary entry – that is, any kind of unstructured text" (Graham, Weingart, and Milligan 2012). In that tutorial, 'unstructured' means that there is no encoding in the text by which a computer can model any of its semantic meaning. But there are [topic models of ships' logs](http://sappingattention.blogspot.ca/2013/04/how-not-to-topic-model-introduction-for.html), of [computer code](http://dl.acm.org/citation.cfm?id=1321709). So why not archaeological databases? Archaeological datasets are rich, largely unstructured bodies of text. While there are examples of archaeological datasets that are coded with semantic meaning through xml and Text Encoding Initiative practices, many of these are done after the fact of excavation or collection. Day to day, things can be rather different, and this material can be considered to be  'largely unstructured' despite the use of databases, controlled vocabulary, and other means to maintain standardized descriptions of what is excavated, collected, and analyzed. This is because of the human factor. Not all archaeologists are equally skilled. Not all data gets recorded according to the standards. Where some see few differences in a particular clay fabric type, others might see many, and vice versa. Archaeological custom might call a particular vessel type a ‘casserole’, thus suggesting a particular use, only because in the 19th century when that vessel type was first encountered it reminded the archaeologist of what was in his kitchen – there is no necessary correlation between what we as archaeologists call things and what those things were originally used for. Further, once data is recorded (and the site has been destroyed through the excavation process), we tend to analyze these materials in isolation. That is, we write our analyses based on all of the examples of a particular type, rather than considering the interrelationships amongst the data found in the same context or locus. [David Mimno in 2009 turned the tools of data analysis on the databases of household materials recovered and recorded room by room at Pompeii.](http://people.cs.umass.edu/~mimno/papers/pompeii.pdf) He considered each room as a 'document' and the artefacts therein as the 'tokens' or 'words' within that document, for the purposes of topic modeling. The resulting 'topics' of this analysis are what he calls 'vocabularies' of object types which when taken together can suggest the mixture of functions particular rooms may have had in Pompeii. He writes, 'the purpose of this tool is not to show that topic modeling is the best tool for archaeological investigation, but that it is an appropriate tool that can provide a complement to human analysis....mathematically concrete in its biases'. The ‘casseroles’ of Pompeii turn out to have nothing to do with food preparation, in Mimno’s analysis. To date, I believe this is the only example of topic modeling applied to archaeological data. Directly inspired by that example, I've been exploring the use of topic models on another rich archaeological dataset, [the Portable Antiquities Scheme database in the UK](http://finds.org.uk/). The Portable Antiquities Scheme is a project "to encourage the voluntary recording of archaeological objects found by members of the public in England and Wales". To date, there are over half a million unique records in the Scheme's database. These are small things, things that fell out of pockets, things that often get found via metal-detecting. Here's what I've been doing. 1\. I downloaded a nightly dump of the PAS data back in April; it came as a csv file. I opened the file, and discovered over a million lines of records. Upon closer examination, I think what happened is something to do with the encoding- there are line breaks, carriage returns, and other non-printing characters (as well as commas being used within fields) that when I open the file I end up with a single record (say a coin hoard) occupying tens of lines, or of fields shifting at the extraneous commas. 2\. I cleaned this data up using Notepad++ and the liberal use of [regular expressions ](http://www.regular-expressions.info/)to put everything back together again. The entire file is something like 385 mb. 3\. I imported it into MS Access so that I could begin to filter it. I've been playing with paleo - meso - and neolithic records; bronze age records; and Roman records. The Roman material itself occupies somewhere around 100 000 unique records. 4\. I exported my queries so that I would have a simpler table with dates, descriptions, and measurements. 5\. I filtered this table in Excel so that I could copy and paste out all of the records found within a particular district (which left me with a folder with 275 files, totaling something like 25 mb of text). 6\. Meanwhile, I began topic modeling the unfiltered total PAS database (just after #2 above). Each run takes about 3 hours, as I've been running diagnostics to explore the patterns. The problem I have here though is what, precisely, am I finding? What does a cluster of records who share a topic actually mean, archaeologically? Do topics sort themselves out by period, by place, by material, by finds officer...? 7\. As that's been going on, I've been topic modeling the folders that contain the districts of England and Wales for a given period. Let's look at the Roman period. There are 275 files, where a handful have *a lot* of data (> 1000 kb), while the vast majority are fairly small (< 100 kb). Perhaps that replicates patterns of metal detecting -[ see Bevan on biases in the PAS.](http://antiquity.ac.uk/ant/086/ant0860492.htm)  The remaining districts seem to have no records in the database. So I've got 80% coverage for all of England and Wales. I've been iterating over all of this data, so I'll just describe the most recent, as it seems to be a typical result. Using MALLET 2.0.7, I made a topic model with 50 topics (and optimized the interval, to shake out the useful from the not-so-useful topics). Last night, as I did this, the topic diagnostics package just wouldn't work for me (you run it from the MALLET directory, but it lives at the MALLET site; perhaps they were working on it). So I'll probably want to run all these again. If I sort the topic keys by their prominence (see '[optimize interval'](http://mallet.cs.umass.edu/topics.php)) the top 14 all seem to describe different kinds of objects - brooches, denarii, nummus, sherds, lead weights, radiate, coin dates, the 'heads' sides of coins - which Emperor. Then we get to the next topic, which reads :" record central database recording usual standards fall created scheme aware portable began antiquities rectify working corroded ae worn century".  This meta-note about data quality appears throughout the database, and refers to materials collected before the Scheme got going.

## Comments

**[vital cleanse parasite](#11813 "2013-12-23 04:21:00"):** Good day I am so glad I found your blog page, I really found you by mistake, while I was searching on Yahoo for something else, Nonetheless I am here now and would just like to say cheers for a remarkable post and a all round exciting blog (I also love the theme/design), I don’t have time to browse it all at the moment but I have book-marked it and also added in your RSS feeds, so when I have time I will be back to read much more, Please do keep up the superb jo.

**[Rebbeca](#11861 "2013-12-25 19:08:14"):** It has the feature of atomic sync feature which self-sets some time so that you will be never late. There are various grades of DLC, some a lot better than others. In addition to a wide range of time related functions you'll be able to add a host of other features and functions including.

